<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ChÃºc má»«ng 20/10</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Inter,system-ui;display:flex;align-items:center;justify-content:center;height:100vh;
background:linear-gradient(135deg,#FFDEE9,#B5FFFC);overflow:hidden}
.card{width:min(920px,94%);background:rgba(255,255,255,.85);backdrop-filter:blur(8px);border-radius:20px;
box-shadow:0 10px 30px rgba(10,10,25,.12);padding:28px;display:grid;grid-template-columns:1fr 360px;gap:24px;align-items:center;
transition:opacity 1s ease-out}
.card.fade-out{opacity:0.1;pointer-events:none}
@media(max-width:880px){.card{grid-template-columns:1fr;padding:20px}.side{order:-1}}
.greeting{padding:8px 12px;border-radius:12px;display:inline-block;font-weight:600;
background:linear-gradient(90deg,#ffd3e0,#ffe6b3);margin-bottom:14px}
h1{font-size:clamp(28px,5vw,48px);margin-bottom:8px}
p.lead{opacity:.9;margin-bottom:18px}
.cta-row{display:flex;gap:12px;flex-wrap:wrap}
.btn{padding:10px 16px;border-radius:12px;border:0;font-weight:700;cursor:pointer}
.btn-primary{background:linear-gradient(90deg,#ff6a88,#ff9a9e);color:#fff}
.btn-ghost{background:transparent;border:2px solid rgba(0,0,0,.06)}
.flower{max-width:320px;aspect-ratio:1/1;border-radius:18px;display:flex;align-items:center;justify-content:center;
background:linear-gradient(135deg,#fff5fb,#ffeef2)}

/* âœ… Z-INDEX ÄÃšNG THá»¨ Tá»°: confetti(50) < cards(60) < heart(100) */
canvas{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none}
canvas#confetti{z-index:50}
canvas#heart{z-index:100} /* âœ… CAO NHáº¤T! */

/* ğŸ€ 3 Táº¤M THIá»†P - z-index THáº¤P HÆ N TRÃI TIM */
.cards-container{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:60;display:none;text-align:center;gap:30px}
.cards-container.show{display:flex;flex-wrap:wrap;justify-content:center}
.card-item{width:200px;height:280px;perspective:1000px;cursor:pointer;position:relative;transition:transform 0.3s ease}
.card-item:hover{transform:scale(1.05)}
.card-front,.card-back{
    width:100%;height:100%;position:absolute;border-radius:20px;backface-visibility:hidden;
    background:rgba(255,245,251,0.9);
    backdrop-filter:blur(5px);
    box-shadow:0 15px 35px rgba(255,105,180,0.2);
    border:3px solid rgba(255,105,180,0.6);
    display:flex;align-items:center;justify-content:center
}
.card-front{transform:rotateY(0deg)}
.card-back{transform:rotateY(180deg)}
.card-item.flipped .card-front{transform:rotateY(-180deg)}
.card-item.flipped .card-back{transform:rotateY(0deg)}
.card-back-content{
    padding:20px;font-size:16px;line-height:1.5;color:#d63384;font-weight:500;text-align:left;
    max-height:260px;overflow-y:auto;background:transparent;
    text-shadow:0 2px 4px rgba(255,255,255,0.9);
}
.card-back-content::-webkit-scrollbar{display:none}

@media(max-width:768px){
    .cards-container{gap:20px;flex-direction:column;align-items:center}
    .card-item{width:160px;height:220px}
    .card-back-content{font-size:14px;padding:15px}
}
</style>
</head>
<body>
<audio id="bgm" src="https://raw.githubusercontent.com/JosephJeffrey/huyphan/main/song.mp3" preload="auto"></audio>

<div class="card" id="mainCard">
  <div>
    <div class="greeting">ChÃºc má»«ng NgÃ y Phá»¥ ná»¯ Viá»‡t Nam</div>
    <h1>ChÃºc em luÃ´n ráº¡ng rá»¡, háº¡nh phÃºc</h1>
    <p class="lead">Gá»­i tá»›i ngÆ°á»i áº¥y lá»i cáº£m Æ¡n, yÃªu thÆ°Æ¡ng vÃ  trÃ¢n trá»ng.</p>
    <div class="cta-row">
      <button class="btn btn-primary" id="celebrateBtn"> ğŸ‰</button>
      <button class="btn btn-ghost" id="messageBtn">áº¤n táº¡i Ä‘Ã¢y nÃ¨ ğŸ’Œ</button>
    </div>
  </div>
  <div class="side"><div class="flower">ğŸŒ¸</div></div>
</div>

<!-- ğŸ€ 3 Táº¤M THIá»†P -->
<div class="cards-container" id="cardsContainer">
  <div class="card-item" data-message="0">
    <div class="card-front">ğŸ’Œ</div>
    <div class="card-back">
      <div class="card-back-content">
        ChÃºc nÃ ng luÃ´n cÃ³ nhiá»u niá»m vui, nhiá»u tiá»n, vÃ  nhiá»u may máº¯n. ChÃºc nÃ ng ngÃ y cÃ ng xinh Ä‘áº¹p, tá»± tin vÃ  ráº¡ng rá»¡.
      </div>
    </div>
  </div>
  <div class="card-item" data-message="1">
    <div class="card-front">ğŸ’Œ</div>
    <div class="card-back">
      <div class="card-back-content">
        ChÃºc nÃ ng cÃ³ cÃ´ng viá»‡c á»•n Ä‘á»‹nh, cÃ³ nhá»¯ng ngÆ°á»i tháº­t lÃ²ng á»Ÿ bÃªn, vÃ  cÃ³ Ä‘á»§ dÅ©ng cáº£m Ä‘á»ƒ buÃ´ng bá» Ä‘iá»u khiáº¿n mÃ¬nh má»‡t má»i.
      </div>
    </div>
  </div>
  <div class="card-item" data-message="2">
    <div class="card-front">ğŸ’Œ</div>
    <div class="card-back">
      <div class="card-back-content">
        VÃ  quan trá»ng nháº¥t, chÃºc nÃ ng luÃ´n biáº¿t ráº±ng: nÃ ng xá»©ng Ä‘Ã¡ng vá»›i táº¥t cáº£ nhá»¯ng Ä‘iá»u tá»‘t Ä‘áº¹p â€“ khÃ´ng chá»‰ ngÃ y 20/10 mÃ  cáº£ sau nÃ y ná»¯a.
      </div>
    </div>
  </div>
</div>

<canvas id="confetti"></canvas>
<canvas id="heart"></canvas>

<script>
/* ğŸ‰ Confetti */
(()=>{const c=document.getElementById('confetti'),x=c.getContext('2d');
let W=c.width=innerWidth,H=c.height=innerHeight;onresize=()=>{W=c.width=innerWidth;H=c.height=innerHeight};
const pcs=[],rand=(a,b)=>Math.random()*(b-a)+a;
class P{constructor(x,y,dx,dy,s,col,r,rs){Object.assign(this,{x,y,dx,dy,s,col,r,rs})}
u(d){this.x+=this.dx*d;this.y+=this.dy*d+30*d;this.r+=this.rs*d}
d(xc){xc.save();xc.translate(this.x,this.y);xc.rotate(this.r);
xc.fillStyle=this.col;xc.fillRect(-this.s/2,-this.s/2,this.s,this.s/2);xc.restore()}}
function burst(x,y,n=100){const cs=['#ff6a88','#ffd3e0','#ffd9a6','#b3fff0','#ffd1ff'];
for(let i=0;i<n;i++){const a=rand(0,6.28),s=rand(60,360);
pcs.push(new P(x,y,Math.cos(a)*s,Math.sin(a)*s,rand(6,14),cs[Math.floor(rand(0,cs.length))],rand(0,6.28),rand(-6,6)));}}
let last=performance.now();
(function loop(t){const d=(t-last)/1e3;last=t;x.clearRect(0,0,W,H);
for(let i=pcs.length;i--;){const p=pcs[i];p.u(d);p.d(x);
if(p.y>H+60||p.x<-60||p.x>W+60)pcs.splice(i,1);}requestAnimationFrame(loop);})();
document.getElementById('celebrateBtn').onclick=()=>burst(W/2,H/2,140);
setInterval(()=>burst(rand(100,W-100),rand(100,H-150),rand(80,140)),3000);
})();

/* â¤ï¸ Hiá»‡u á»©ng trÃ¡i tim */
const hc=document.getElementById('heart'),ctx=hc.getContext('2d');
let W2=hc.width=innerWidth,H2=hc.height=innerHeight;
onresize=()=>{W2=hc.width=innerWidth;H2=hc.height=innerHeight};

const shape=t=>({x:16*Math.sin(t)**3,y:13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t)});
let ps=[],ph=0,run=false;

function make(n=800){
    const centerX = W2 * 0.2 + Math.random() * W2 * 0.6;
    const centerY = H2 * 0.2 + Math.random() * H2 * 0.6;
    const a=[];for(let i=0;i<n;i++){
        const t=Math.random()*6.28,s=shape(t);
        a.push({
            x: centerX + Math.random()*400-200,
            y: centerY + Math.random()*400-200,
            tx: centerX + s.x*12,
            ty: centerY - s.y*12,
            sz:Math.random()*2+1.2,
            a:0,
            p:Math.random()*6.28
        });
    }
    return a;
}

function anim(){
    if(!run)return;
    ctx.clearRect(0,0,W2,H2);
    ph+=.02;
    for(const p of ps){
        const f=(Math.sin(ph)+1)/2;
        p.x+=(p.tx-p.x)*.05;
        p.y+=(p.ty-p.y)*.05;
        p.a=.6+.4*Math.sin(p.p+ph*4);
        ctx.beginPath();
        ctx.fillStyle=`rgba(255,106,136,${p.a})`;
        ctx.arc(p.x+(Math.random()-.5)*f*8,p.y+(Math.random()-.5)*f*8,p.sz,0,6.28);
        ctx.fill();
    }
    if(ph>6.28){ph=0;ps=make();}
    requestAnimationFrame(anim);
}

function showHeart(){if(run)return;run=true;ps=make();ph=0;anim();}

/* ğŸ’Œ Xá»¬ LÃ Táº¤M THIá»†P */
function initCards() {
    const cardItems = document.querySelectorAll('.card-item');
    cardItems.forEach(item => {
        item.onclick = () => {
            item.classList.toggle('flipped');
        };
    });
}

/* ğŸµ NHáº C + HIá»†U á»¨NG CHÃNH */
const bgm=document.getElementById('bgm'),start=115,end=205;
const messageBtn = document.getElementById('messageBtn');
const mainCard = document.getElementById('mainCard');
const cardsContainer = document.getElementById('cardsContainer');

messageBtn.onclick=()=>{
    bgm.currentTime=start;
    bgm.play();
    showHeart(); // TrÃ¡i tim nháº£y mÃºa
    
    // Má» card chÃ­nh + hiá»‡n 3 táº¥m thiá»‡p
    mainCard.classList.add('fade-out');
    setTimeout(() => {
        cardsContainer.classList.add('show');
    }, 500);
};

bgm.ontimeupdate=()=>{
    if(bgm.currentTime>=end)bgm.currentTime=start;
};

// Khá»Ÿi táº¡o táº¥m thiá»‡p
initCards();
</script>
</body>
</html>


